pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
-- pyeongchang slalom
-- by mario zoth radek jedrasiak klemens kunz

-- todos:
-- sfx/music
--  start musik
--  startsignal
--  ski fx
--  ski schwung fx
--  crash fx
--  publikum zieleinfahrt
--  fanfare

--code:
-- tab1=init u. startscreen
-- tab2=game

function update_start()
	if btn(5) then countin=0 end
end

function draw_start()
	cls()
	--himmel
	rectfill(0,0,127,150,12)
	--berg
	circfill(64,288-scene_offset,200,7)
	if countin!=-1 then
		countin=mid(1,countin+1,180)
		scene_offset=mid(0,scene_offset+1,35)
		if countin==180 then
			print("los!",58,50)
			timer.paused=false
			_update60=update_game
			_draw=draw_game
		elseif countin>119 then
			print("1",62,60-scene_offset)
		elseif countin>59 then
			print("2",62,60-scene_offset)
		else
			print("3",62,60-scene_offset)
		end
	else
		--titeltext
 	print("derstandard.at slalom",23,11,0)
 	print("derstandard.at slalom",22,10,7)
 	print("olypia 2018",43,43,0)
 	print("olypia 2018",42,42,7)
 	--olympische ringe
 	local ring_x=49
 	local ring_y=25
 	local ring_rad=6
 	circ(ring_x,ring_y,ring_rad,1)
 	circ(ring_x+7,ring_y+7,ring_rad,10)
 	circ(ring_x+14,ring_y,ring_rad,0)
 	circ(ring_x+21,ring_y+7,ring_rad,3)
 	circ(ring_x+28,ring_y,ring_rad,8)
 	print("starte mit ❎",38,55,7)
 	print("steuere mit ⬅️➡️",34,62,7)
	end
	--map
	map(0,0,0,120-scene_offset,16,64)
	--starthaus
	spr(0,57,80-scene_offset,2,2)
	--rennlaeufer
	spr(3,60,89-scene_offset,1,2)
end

function _init()
	countin=-1
	timer={
		frames=0,
		seconds=0,
		minutes=0,
		output="00:00:00",
		paused=true
	}
	camera_x=0
	camera_y=0
	scene_offset=0
 
	_update60=update_start
	_draw=draw_start
end

function _update60() end
function _draw() end
-->8

	
function write_timer_output(f,s,m)
	local h=flr(f*1.6)
	local fstr=tostr(h)
	local sstr=tostr(s)
	local mstr=tostr(m)
	if h<10 then fstr="0"..fstr end
	if s<10 then sstr="0"..sstr end
	if m<10 then mstr="0"..mstr end
	timer.output=mstr..":"..sstr..":"..fstr
end

function update_timer()
	local f=timer.frames
	local s=timer.seconds
	local m=timer.minutes
	if f < 59 then f+=1 else
		f=0
		
		if s < 59 then s+=1 else
			s=0
			m+=1
		end
	end
	timer.frames=f
	timer.seconds=s
	timer.minutes=m
	write_timer_output(f,s,m)
end

function update_game()
	if not timer.paused then
		update_timer()
	end
	camera_y+=1
end

function draw_game()
	cls()
	camera(camera_x,camera_y)
	--himmel
	rectfill(0,0,127,150,12)
	--berg
	circfill(64,253,200,7)
	print("los!",58,25)
	--map
	map(0,0,0,85,16,64) --part1
	map(16,0,0,597,16,64) --part2
	map(32,0,0,1109,16,64) --part3
	--starthaus
	spr(0,57,45,2,2)
	--rennlaeufer
	spr(3,camera_x+60,camera_y+54,1,2)
	print(timer.output,80,camera_y+118,0)
end
__gfx__
00000000000000000000000000000000000000007777777777777765567777777777777557777777000000000000000000000000000000000000000000000000
000ee000000000000000000000000000000000007777777777777657756777777777775665777777000000000000000000000000000000000000000000000000
00ee8008800000000088800000888000008880007777777777776577775677777777756776576777000000000000000000000000000000000000000000000000
008280e8880000000888880008888800088888007777777777765777777567777767567777657777000000000000000000000000000000000000000000000000
00828e8e888000000ff88800084f4800084f48007777777777657777776756777775677777765777000000000000000000000000000000000000000000000000
0082e828e88800000ff8880008fff80008fff8007777777776576777777775677756777777776577000000000000000000000000000000000000000000000000
008e82e28e88800000fff00000fff00000fff0007777777765777777777777567567777777777657000000000000000000000000000000000000000000000000
00e82eee28e888000088800088888880888888807777777757777777777777755677777777777765000000000000000000000000000000000000000000000000
0e82eeeee28e88800088800080888080808880807777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
e82eeeeeee28e8200085800080888080808880807677777756777777777777650000000000000000000000000000000000000000000000000000000000000000
82eeeeeeeee282200088500050888050508880507777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
0eeee828eeee22200008050005808055058080057777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
0eeee282eeee22200008000000858500008580007777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
0eeee828eeee22205555555000505000005050007777767756777777777777650000000000000000000000000000000000000000000000000000000000000000
0eeee282eeee22000000000005050000005050007777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
0eeee828eeee20000000000050500000005050007777777756777777777777650000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505151515050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505051515050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505051515050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
51615050505050505050505050507151516150505050505050505050505071515161505050505050505050505050715100000000000000000000000000000000
__map__
0705050505050505050505050505050615160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505170515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505050505050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505051515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505051515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050515151515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050515151515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050515151515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505151515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516050505151515050505050505171515160505050505050505050505051715151605050505050505050505050517150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400001605017600166001660016600176000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
